I've now reviewed the full picture: the shared evaluateGuardrails() function, the types, how each rail enforces guardrails, and how Rail 4 tracks spend differently (cents in profileAllowanceUsage vs micro-USDC in Rails 1/2).
The plan is good and not over-engineered. It's actually the right level of complexity for what it does. Here's why, and the few things I'd tweak:
What's right:

Reusing evaluateGuardrails() with master-level rules is elegant. The function already takes GuardrailRules + TransactionRequest + CumulativeSpend — you just feed it owner-wide data instead of per-wallet data. No new evaluation logic needed.
Live SQL aggregation (SUM queries across 3 tables) is the right call at current scale. A materialized ledger would be premature.
The evaluateMasterGuardrails(ownerUid, amountMicroUsdc) helper that wraps everything into one call per endpoint is clean — 3-5 lines of integration per rail.
Skipping domain/merchant lists at the master level makes sense — those are per-rail concerns.

What I'd simplify or flag:

The requireApprovalAbove column on master guardrails is awkward. If a master guardrail triggers "require_approval," which rail's approval flow does it route to? Rail 1 has 5-min TTL, Rail 2 has 15-min TTL, Rail 4 uses email-based HMAC approvals. The plan says "route to that rail's approval flow" but that's already what happens at the per-rail level. I'd drop requireApprovalAbove from master guardrails and keep it simple: master guardrails only block or allow. Per-rail guardrails handle approval routing. This removes an edge case that would add complexity for little value.
Rail 4 spend aggregation is trickier than the plan suggests. Rail 4 tracks spend per-profile per-window in profileAllowanceUsage, and each profile can have a different window duration (day/week/month). To get "daily spend for this owner across Rail 4," you'd need to sum across all cards, all real profiles only, filtering by windowStart >= startOfToday. But if a real profile uses a weekly window, its windowStart might be 3 days ago — you'd need to decide whether to count that spend toward today's master daily budget. The plan mentions this edge case but hand-waves it. I'd say: just sum all profileAllowanceUsage rows where windowStart >= startOfDay/Month for real profiles. It's slightly imprecise for weekly-window profiles but good enough. Don't overthink it.
Unit conversion is fine — cents * 10,000 = micro USDC works because 1 USD = 100 cents = 1,000,000 micro USDC. Just make sure there's a single centsToMicroUsdc() utility and it's tested.
The "enabled" toggle is a nice touch — lets owners configure without committing. Keep it.
UI placement on /app/settings — fine for now. Eventually this could be a top-level card on the main dashboard since it's cross-rail, but settings page works.

Bottom line: The plan is appropriately scoped. It's not over-engineered — it's actually doing the minimum needed to make cross-rail budget enforcement work. The one thing I'd remove is requireApprovalAbove at the master level to avoid the "which rail's approval flow" ambiguity. Everything else, green light.